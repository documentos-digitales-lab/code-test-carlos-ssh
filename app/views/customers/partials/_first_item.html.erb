<%= form_with model: @invoice do |f| %>
    <tr class="nested-form-wrapper revenue">
        <%= f.fields_for :invoice_items do |product_items_fields| %>
            <td class="px-4 py-4 text-sm font-medium text-gray-700 dark:text-gray-200 whitespace-nowrap">
                <div class="inline-flex items-center gap-x-3">
                    <div class="relative mt-2 rounded-md shadow-sm">
                        <%= f.number_field :quantity, class: "w-full rounded-md border-0 py-1.5 pl-7 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6" %>
                    </div>
                </div>
            </td>

            <td class="px-4 py-4 text-sm text-gray-500 dark:text-gray-300 whitespace-nowrap">
                <div class="inline-flex items-center gap-x-3">
                    <div class="relative mt-2 rounded-md shadow-sm">
                        <%= f.select :name,
                            options_for_select([
                                "Software Development", "Web App", "Mobile Application", "Database Migration"
                            ]),
                            { placeholder: "Select an option" },
                            { class: "w-full rounded-md border-0 py-1.5 pl-7 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6" }
                        %>
                    </div>
                </div>
            </td>
            <td class="px-4 py-4 text-sm text-gray-500 dark:text-gray-300 whitespace-nowrap">
                <div class="inline-flex items-center gap-x-3">
                    <div class="relative mt-2 rounded-md shadow-sm">
                        <%= f.number_field :unit_price, class: "w-full rounded-md border-0 py-1.5 pl-7 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6" %>
                    </div>
                </div>
            </td>

            <td class="px-4 py-4 text-sm text-gray-500 dark:text-gray-300 whitespace-nowrap">
                <div class="inline-flex items-center gap-x-3">
                    <div class="relative mt-2 rounded-md shadow-sm">
                        <%# f.number_field :amount, class: "w-full rounded-md border-0 py-1.5 pl-7 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6" %>
                        <%= number_to_currency(:amount)%>
                    </div>
                </div>
            </td>

            <td class="px-4 py-4 text-sm whitespace-nowrap">
                <div class="flex items-center gap-x-6">
                    <button type="button" data-action="nested-form#remove" class="text-red-500 transition-colors duration-200 hover:text-red-700 focus:outline-none">Remove</button>
                </div>
                <%= f.hidden_field :_destroy %>
            </td>
        <% end %>
    </tr>
<% end %>
